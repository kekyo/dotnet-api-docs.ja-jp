<Type Name="SqlTrackingService" FullName="System.Workflow.Runtime.Tracking.SqlTrackingService">
  <TypeSignature Language="C#" Value="public sealed class SqlTrackingService : System.Workflow.Runtime.Tracking.TrackingService, System.Workflow.Runtime.Tracking.IProfileNotification" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SqlTrackingService extends System.Workflow.Runtime.Tracking.TrackingService implements class System.Workflow.Runtime.Tracking.IProfileNotification" />
  <TypeSignature Language="DocId" Value="T:System.Workflow.Runtime.Tracking.SqlTrackingService" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SqlTrackingService&#xA;Inherits TrackingService&#xA;Implements IProfileNotification" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlTrackingService sealed : System::Workflow::Runtime::Tracking::TrackingService, System::Workflow::Runtime::Tracking::IProfileNotification" />
  <AssemblyInfo>
    <AssemblyName>System.Workflow.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Workflow.Runtime.Tracking.TrackingService</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Workflow.Runtime.Tracking.IProfileNotification</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute>
      <AttributeName>System.Obsolete("The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*")</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="10ef7-101">SQL データベースを使用して追跡情報を格納する追跡サービスを表します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-101">Represents a tracking service that uses a SQL database to store tracking information.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
  
> [!NOTE]
>  [!INCLUDE[DeprecatedContent](~/includes/deprecatedcontent-md.md)]  
  
 <span data-ttu-id="10ef7-102"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> クラスは、完全な機能を持つ追跡サービスを表します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-102">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> class represents a fully functional tracking service.</span></span> <span data-ttu-id="10ef7-103">このサービスをそのまま使用して、追跡情報を収集および保存できるだけでなく、追跡プロファイルを保存して、ワークフロー ランタイム エンジンによって要求されたときにそれを提供できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-103">You can use this service out-of-box to collect and store tracking information, and to store tracking profiles and provide them when requested by the workflow runtime engine.</span></span> <span data-ttu-id="10ef7-104">SQL 追跡サービスは、ランタイム追跡インフラストラクチャから送られてきた追跡データを SQL データベースに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-104">The SQL tracking service writes tracking data sent to it by the runtime tracking infrastructure to a SQL database.</span></span>  
  
 <span data-ttu-id="10ef7-105">多くの場合、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> がそのデータベースとワークフロー ランタイム エンジンの状態の整合性を維持することが重要です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-105">In many scenarios it is important for the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> to maintain consistency between its database and the state of the workflow runtime engine.</span></span> <span data-ttu-id="10ef7-106">このため、`SqlTrackingChannel` クラスは、<xref:System.Workflow.Runtime.IPendingWork> によって提供されるワークフロー トランザクション バッチ機能に参加するために、<xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> インターフェイスを利用します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-106">Therefore, the `SqlTrackingChannel` class makes use of the <xref:System.Workflow.Runtime.IPendingWork> interface to participate in the workflow transaction batching functionality provided by the <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>.</span></span> <span data-ttu-id="10ef7-107"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> を設定するか、適切なパラメーターをコンストラクターに渡すことにより、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> をバッチに参加するように構成し、SQL データベースの保留状態の変更を表すオブジェクトを <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A> に追加できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-107">You can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> or pass the appropriate parameters to the constructor to configure the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> to participate in batching and add objects that represent pending changes to the SQL database to the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span>  
  
 <span data-ttu-id="10ef7-108"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、そのデータベースに追跡プロファイルも保持します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-108">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> also maintains tracking profiles in its database.</span></span> <span data-ttu-id="10ef7-109">ワークフロー ランタイム エンジンは、使用している追跡プロファイルの変更を常に把握する必要があります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-109">The workflow runtime engine must be kept apprised of changes to any of the tracking profiles that it is using.</span></span> <span data-ttu-id="10ef7-110">データベースに保存された <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> が変更された場合にワークフロー ランタイム エンジンに通知するために、<xref:System.Workflow.Runtime.Tracking.IProfileNotification> は <xref:System.Workflow.Runtime.Tracking.TrackingProfile> インターフェイスを実装し、データベース内の追跡プロファイルを定期的に調べます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-110">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> implements the <xref:System.Workflow.Runtime.Tracking.IProfileNotification> interface and periodically examines the tracking profiles in its database in order to notify the workflow runtime engine of changes to a <xref:System.Workflow.Runtime.Tracking.TrackingProfile> stored in its database.</span></span> <span data-ttu-id="10ef7-111">プロファイルの変更を追跡ランタイムに通知するために、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> を設定するか、適切なパラメーターをコンストラクターに渡すことで、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> が追跡プロファイルを調べる間隔を設定できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-111">You can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> or pass the appropriate parameter to the constructor in order to set the interval at which the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> examines its tracking profiles to notify the tracking runtime of any profile changes.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10ef7-112">ワークフロー アプリケーションで <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> と <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> の両方を使用する場合は、永続化と追跡に 1 つのデータベースを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="10ef7-112">When using both the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> and the <xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService> in a workflow application, it is recommended that you use a single database for both persistence and tracking.</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="10ef7-113"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-113">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> class.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlTrackingService (System.Collections.Specialized.NameValueCollection parameters);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Collections.Specialized.NameValueCollection parameters) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.#ctor(System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (parameters As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlTrackingService(System::Collections::Specialized::NameValueCollection ^ parameters);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="parameters" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="parameters"><span data-ttu-id="10ef7-114"><see cref="T:System.Collections.Specialized.NameValueCollection" /> のプロパティとそれぞれの初期値を指定する <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" />。</span><span class="sxs-lookup"><span data-stu-id="10ef7-114">A <see cref="T:System.Collections.Specialized.NameValueCollection" /> that specifies properties of <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> and their initial values.</span></span></param>
        <summary><span data-ttu-id="10ef7-115">指定された <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> を使用して、<see cref="T:System.Collections.Specialized.NameValueCollection" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-115">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> class by using the specified <see cref="T:System.Collections.Specialized.NameValueCollection" />.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-116">このコンストラクターは、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> を指定するアプリケーション構成ファイルからワークフロー ランタイム エンジンが初期化されたときに、ワークフロー ランタイム エンジンによって呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-116">This constructor is called by the workflow runtime engine when the workflow runtime engine is initialized from an application configuration file that specifies a <xref:System.Workflow.Runtime.Tracking.SqlTrackingService>.</span></span> <span data-ttu-id="10ef7-117">このコンストラクターを使用して、ホスト アプリケーションから <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> を初期化することもできます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-117">You can also use this constructor to initialize the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> from a host application.</span></span> <span data-ttu-id="10ef7-118"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、<xref:System.Collections.Specialized.NameValueCollection> に格納されたキーと値のペアに基づいて初期化されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-118">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> is initialized according to the key-value pairs that are contained in the <xref:System.Collections.Specialized.NameValueCollection>.</span></span> <span data-ttu-id="10ef7-119">可能なキー (各値が初期化するプロパティ) と各プロパティの型を、次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-119">The following table enumerates the potential keys, the property which each value initializes, and the type of each property.</span></span> <span data-ttu-id="10ef7-120">各キーに関連付けられる値は、そのキーが指すプロパティの該当する型に相当する文字列である必要があります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-120">The value associated with each key should be a string that represents the appropriate type for the property referred to by that key.</span></span> <span data-ttu-id="10ef7-121">これらのキーと値のペアの 1 つ以上を指定できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-121">You can specify one or more of these key-value pairs.</span></span>  
  
|<span data-ttu-id="10ef7-122">キー</span><span class="sxs-lookup"><span data-stu-id="10ef7-122">Key</span></span>|<span data-ttu-id="10ef7-123">プロパティの型</span><span class="sxs-lookup"><span data-stu-id="10ef7-123">Property Type</span></span>|<span data-ttu-id="10ef7-124">プロパティの説明</span><span class="sxs-lookup"><span data-stu-id="10ef7-124">Property Description</span></span>|  
|---------|-------------------|--------------------------|  
|`"IsTransactional"`|`bool`|<span data-ttu-id="10ef7-125"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> が <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A> を使用してワークフロー トランザクションに参加するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-125">Specifies whether <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> participates in workflow transactions by using the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span> <span data-ttu-id="10ef7-126">既定値は `true` です。これは、追跡の変更をデータベースに同期的に書き込むことを指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-126">The default is `true`, specifying that tracking changes are written to the database in a synchronous manner.</span></span>|  
|`"UseDefaultProfile"`|`bool`|<span data-ttu-id="10ef7-127"><xref:System.Workflow.Runtime.Tracking.TrackingService.GetProfile%2A> 呼び出しで追跡プロファイルが見つからなかった場合に既定の追跡プロファイルが返されるようにするかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-127">Specifies whether the default tracking profile will be returned if a tracking profile cannot be found for a <xref:System.Workflow.Runtime.Tracking.TrackingService.GetProfile%2A> call.</span></span> <span data-ttu-id="10ef7-128">既定値は `true` です。これは、既定の追跡プロファイルを使用することを指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-128">The default is `true`, specifying that the default tracking profile will be used.</span></span>|  
|`"ProfileChangeCheckInterval"`|`double`|<span data-ttu-id="10ef7-129">データベース内の追跡プロファイルの変更を調べる時間間隔をミリ秒単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-129">Specifies the time in milliseconds at which to examine the database for changes to its tracking profiles.</span></span> <span data-ttu-id="10ef7-130">既定値は 60000 ミリ秒です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-130">The default is 60000 milliseconds.</span></span>|  
|`"ConnectionString"`|`string`|<span data-ttu-id="10ef7-131">データベース接続文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-131">Specifies the database connection string.</span></span> <span data-ttu-id="10ef7-132">既定値は null 参照 (Visual Basic では `Nothing`) です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-132">The default is a null reference (`Nothing` in Visual Basic).</span></span>|  
|`"PartitionOnCompletion"`|`bool`|<span data-ttu-id="10ef7-133">ワークフロー インスタンスが完了したときにワークフロー インスタンスの追跡データをデータベース内の現在アクティブなパーティションに移動するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-133">Specifies whether tracking data for a workflow instance should be moved to the currently active partition in the database when the workflow instance is completed.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="10ef7-134"><paramref name="parameters" /> が null 参照 (Visual Basic の場合は <see langword="Nothing" />) です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-134"><paramref name="parameters" /> is a null reference (<see langword="Nothing" /> in Visual Basic).</span></span></exception>
        <exception cref="T:System.FormatException"><span data-ttu-id="10ef7-135"><see langword="string" /> 内の <see langword="Boolean" /> プロパティ キーに関連付けられた <paramref name="parameters" /> 値が、<see cref="F:System.Boolean.TrueString" /> と <see cref="F:System.Boolean.FalseString" /> のどちらによっても表されていません。</span><span class="sxs-lookup"><span data-stu-id="10ef7-135">The <see langword="string" /> value associated with a <see langword="Boolean" /> property key in <paramref name="parameters" /> is not represented by either <see cref="F:System.Boolean.TrueString" /> or <see cref="F:System.Boolean.FalseString" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlTrackingService (string connectionString);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string connectionString) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (connectionString As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlTrackingService(System::String ^ connectionString);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="connectionString" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="connectionString"><span data-ttu-id="10ef7-136">有効なデータベース接続文字列。</span><span class="sxs-lookup"><span data-stu-id="10ef7-136">A valid database connection string.</span></span></param>
        <summary><span data-ttu-id="10ef7-137">指定したデータベース接続文字列を使用して、<see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> クラスの新しいインスタンスを初期化します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-137">Initializes a new instance of the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> class by using the specified database connection string.</span></span></summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="10ef7-138">データベース接続文字列が有効ではありません。</span><span class="sxs-lookup"><span data-stu-id="10ef7-138">The database connection string is not valid.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="ConnectionString">
      <MemberSignature Language="C#" Value="public string ConnectionString { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ConnectionString" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.ConnectionString" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property ConnectionString As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ ConnectionString { System::String ^ get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-139">追跡データベースの接続文字列を取得します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-139">Gets the connection string for the tracking database.</span></span></summary>
        <value><span data-ttu-id="10ef7-140">追跡データベースの接続文字列。</span><span class="sxs-lookup"><span data-stu-id="10ef7-140">The connection string for the tracking database.</span></span></value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="EnableRetries">
      <MemberSignature Language="C#" Value="public bool EnableRetries { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool EnableRetries" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries" />
      <MemberSignature Language="VB.NET" Value="Public Property EnableRetries As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool EnableRetries { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-141"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> がデータベース操作の実行時に再試行するかどうかを指定する値を取得および設定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-141">Gets and sets a value specifying whether the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> will retry when performing a database operation.</span></span></summary>
        <value>
          <span data-ttu-id="10ef7-142"><see langword="true" /> が操作を再試行する場合は <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" />。それ以外の場合は <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="10ef7-142"><see langword="true" /> if the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> should retry the operation; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-143"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> プロパティが `false` に設定されて <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> が `true` に設定されている場合、トランザクションのすべての再試行は <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> プロパティの値で決まります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-143">If the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> property is set to `false` and <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> is set to `true`, then all transaction retries depend on the value of the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> property.</span></span>  
  
 <span data-ttu-id="10ef7-144"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> が `true` に設定されている場合は特定の作業がバッチ処理され、このような作業バッチ トランザクションの再試行は、<xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> の派生型の <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> や <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService> などによって処理されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-144">If <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> is set to `true`, then certain work is batched and retries of those work batch transactions are handled by a derived type of <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService>, such as <xref:System.Workflow.Runtime.Hosting.DefaultWorkflowCommitWorkBatchService> or <xref:System.Workflow.Runtime.Hosting.SharedConnectionWorkflowCommitWorkBatchService>.</span></span>  
  
 <span data-ttu-id="10ef7-145"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> が `true` に設定されているかどうかにかかわらず、次の作業項目はバッチ処理できません。トランザクションの再試行は、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> プロパティを介して処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-145">Regardless of whether <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> is set to `true`, the following work items cannot be batched and any transaction retries must be handled through the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.EnableRetries%2A> property.</span></span>  
  
-   <span data-ttu-id="10ef7-146">追跡プロファイルの変更のポーリング</span><span class="sxs-lookup"><span data-stu-id="10ef7-146">Polling for tracking profile changes.</span></span>  
  
-   <span data-ttu-id="10ef7-147"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> が `false` に設定されているときの SQL Server データベースへの書き込みのすべて</span><span class="sxs-lookup"><span data-stu-id="10ef7-147">All writes to a SQL Server database when <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> is set to `false`.</span></span>  
  
 <span data-ttu-id="10ef7-148">この機能は、プログラムで設定する以外に、構成ファイルを使用して有効にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-148">Besides being set programmatically, this functionality can be enabled through a configuration file.</span></span> <span data-ttu-id="10ef7-149">構成ファイルでこのプロパティを設定する方法の詳細については、次を参照してください。[ワークフロー構成ファイル](http://msdn.microsoft.com/library/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909)です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-149">For more information about how to set this property through a configuration file, see [Workflow Configuration Files](http://msdn.microsoft.com/library/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909).</span></span>  
  
 <span data-ttu-id="10ef7-150">作業バッチ トランザクションの再試行に関する概要については、次を参照してください。[ワークフローの状態情報をバッチ処理](http://msdn.microsoft.com/library/ecda18ba-9140-4bd7-b13d-6787fdf5959d)です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-150">For general information about retrying work batch transactions, see [Batching State Information in Workflows](http://msdn.microsoft.com/library/ecda18ba-9140-4bd7-b13d-6787fdf5959d).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetProfile">
      <MemberSignature Language="C#" Value="protected internal override System.Workflow.Runtime.Tracking.TrackingProfile GetProfile (Guid scheduleInstanceId);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Workflow.Runtime.Tracking.TrackingProfile GetProfile(valuetype System.Guid scheduleInstanceId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.GetProfile(System.Guid)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function GetProfile (scheduleInstanceId As Guid) As TrackingProfile" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Workflow::Runtime::Tracking::TrackingProfile ^ GetProfile(Guid scheduleInstanceId);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.Tracking.TrackingProfile</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scheduleInstanceId" Type="System.Guid" />
      </Parameters>
      <Docs>
        <param name="scheduleInstanceId">To be added.</param>
        <summary>To be added.</summary>
        <returns>To be added.</returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetProfile">
      <MemberSignature Language="C#" Value="protected internal override System.Workflow.Runtime.Tracking.TrackingProfile GetProfile (Type workflowType, Version profileVersion);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Workflow.Runtime.Tracking.TrackingProfile GetProfile(class System.Type workflowType, class System.Version profileVersion) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.GetProfile(System.Type,System.Version)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function GetProfile (workflowType As Type, profileVersion As Version) As TrackingProfile" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Workflow::Runtime::Tracking::TrackingProfile ^ GetProfile(Type ^ workflowType, Version ^ profileVersion);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.Tracking.TrackingProfile</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="workflowType" Type="System.Type" />
        <Parameter Name="profileVersion" Type="System.Version" />
      </Parameters>
      <Docs>
        <param name="workflowType">To be added.</param>
        <param name="profileVersion">To be added.</param>
        <summary>To be added.</summary>
        <returns>To be added.</returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetTrackingChannel">
      <MemberSignature Language="C#" Value="protected internal override System.Workflow.Runtime.Tracking.TrackingChannel GetTrackingChannel (System.Workflow.Runtime.Tracking.TrackingParameters parameters);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance class System.Workflow.Runtime.Tracking.TrackingChannel GetTrackingChannel(class System.Workflow.Runtime.Tracking.TrackingParameters parameters) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.GetTrackingChannel(System.Workflow.Runtime.Tracking.TrackingParameters)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function GetTrackingChannel (parameters As TrackingParameters) As TrackingChannel" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override System::Workflow::Runtime::Tracking::TrackingChannel ^ GetTrackingChannel(System::Workflow::Runtime::Tracking::TrackingParameters ^ parameters);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Workflow.Runtime.Tracking.TrackingChannel</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="parameters" Type="System.Workflow.Runtime.Tracking.TrackingParameters" />
      </Parameters>
      <Docs>
        <param name="parameters">To be added.</param>
        <summary>To be added.</summary>
        <returns>To be added.</returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="IsTransactional">
      <MemberSignature Language="C#" Value="public bool IsTransactional { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool IsTransactional" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional" />
      <MemberSignature Language="VB.NET" Value="Public Property IsTransactional As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool IsTransactional { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-151"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> がワークフロー トランザクションに参加するかどうかを示す値を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-151">Gets or sets a value that indicates whether <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> participates in workflow transactions.</span></span></summary>
        <value>
          <span data-ttu-id="10ef7-152"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> がワークフロー トランザクションに参加する場合は <see langword="true" />。それ以外の場合は <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="10ef7-152"><see langword="true" /> if <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> participates in the workflow transaction; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="10ef7-153">既定値は、<see langword="true" /> です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-153">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-154">追跡データは通常、データベースに同期的に書き込まれます。つまり、追跡チャネルで受信されたデータは直ちに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-154">Ordinarily tracking data is written to the database synchronously, that is, the data is written as soon as it is received on the Tracking Channel.</span></span> <span data-ttu-id="10ef7-155"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> が `true` の場合、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> はワークフロー トランザクションに参加します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-155">If <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.IsTransactional%2A> is `true`, <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> participates in the workflow transaction.</span></span> <span data-ttu-id="10ef7-156">つまり、<xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> で定義されたセマンティクスに従うことになり、データベースに対する変更を <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A> に対する作業項目として追加します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-156">That is, it follows the semantics defined by <xref:System.Workflow.Runtime.Hosting.WorkflowCommitWorkBatchService> and adds any changes to its database as work items to the <xref:System.Workflow.Runtime.WorkflowEnvironment.WorkBatch%2A>.</span></span> <span data-ttu-id="10ef7-157">サービスは、ワークフロー ランタイム エンジンから指示を受けると、これらの変更をコミットします。</span><span class="sxs-lookup"><span data-stu-id="10ef7-157">The service commits these changes when instructed to by the workflow runtime engine.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="PartitionOnCompletion">
      <MemberSignature Language="C#" Value="public bool PartitionOnCompletion { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool PartitionOnCompletion" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.PartitionOnCompletion" />
      <MemberSignature Language="VB.NET" Value="Public Property PartitionOnCompletion As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool PartitionOnCompletion { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-158">ワークフロー インスタンスが完了したときにワークフロー インスタンスの追跡データをデータベース内の現在アクティブなパーティションに移動するかどうかを指定する値を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-158">Gets or sets a value that specifies whether tracking data for a workflow instance should be moved to the currently active partition in the database when the workflow instance is completed.</span></span></summary>
        <value>
          <span data-ttu-id="10ef7-159">ワークフロー完了時に追跡データを現在アクティブなパーティションに移動する場合は <see langword="true" />。それ以外の場合は <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="10ef7-159"><see langword="true" /> if tracking data should be moved to the currently active partition on workflow completion; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="10ef7-160">既定値は、<see langword="false" /> です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-160">The default is <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-161"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> を使用する場合、追跡レコードのアーカイブと削除を効率的な方式で行えるように、データベースをパーティション分割することができます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-161">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> allows you to partition the database in order to provide an efficient method for archiving and deleting tracking records.</span></span> <span data-ttu-id="10ef7-162">データベースのダウン時間相互の間隔が長い場合やデータベースのダウン時間が予定されていない場合は、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.PartitionOnCompletion%2A> を設定することにより、ワークフロー インスタンスが完了したときに、ワークフロー インスタンスに関連付けられた追跡レコードを、アクティブなインスタンス テーブルから現在アクティブなパーティションに移動させることができます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-162">If your database experiences long periods between down times or your database has no planned downtime, you can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.PartitionOnCompletion%2A> to move tracking records associated with a workflow instance from the active instance tables to the currently active partition when the workflow instance completes.</span></span> <span data-ttu-id="10ef7-163">こうすることで、データベースのアクティブなインスタンス テーブル内のデータをロックすることなく、これらのレコードをアーカイブまたは削除できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-163">This allows you to archive or delete these records without having to lock the data in the active instance tables of the database.</span></span> <span data-ttu-id="10ef7-164">パーティション分割の詳細については、次を参照してください。 [SqlTrackingService でのデータ メンテナンス](http://msdn.microsoft.com/library/a62d5719-d6cd-4871-a3ab-56ea629d4e00)です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-164">For more information about partitioning, see [Data Maintenance with SqlTrackingService](http://msdn.microsoft.com/library/a62d5719-d6cd-4871-a3ab-56ea629d4e00).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ProfileChangeCheckInterval">
      <MemberSignature Language="C#" Value="public double ProfileChangeCheckInterval { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance float64 ProfileChangeCheckInterval" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval" />
      <MemberSignature Language="VB.NET" Value="Public Property ProfileChangeCheckInterval As Double" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property double ProfileChangeCheckInterval { double get(); void set(double value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Double</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-165">データベースにある追跡プロファイルのうちの 1 つ以上に変更があったかどうかをチェックする間隔を指定する値を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-165">Gets or sets a value that specifies the interval at which the database should be checked for changes to one or more of its tracking profiles.</span></span></summary>
        <value><span data-ttu-id="10ef7-166">間隔の長さ (ミリ秒単位)。</span><span class="sxs-lookup"><span data-stu-id="10ef7-166">The interval length in milliseconds.</span></span> <span data-ttu-id="10ef7-167">既定値は 60000 です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-167">The default is 60000.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-168"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> はデータベースを定期的に調べて、追跡プロファイルのうちの 1 つ以上が変更されているかどうか、または削除されているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-168">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> periodically examines the database to determine whether one or more of its tracking profiles have been changed or have been deleted.</span></span> <span data-ttu-id="10ef7-169"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、<xref:System.Workflow.Runtime.Tracking.TrackingProfile> が削除されていると判断すると、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> イベントを発生させます。プロファイルが変更されていると判断したときは、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> イベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-169">When the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> determines that a <xref:System.Workflow.Runtime.Tracking.TrackingProfile> has been deleted it raises an <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> event; when it determines that a profile has been changed it raises a <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> event.</span></span> <span data-ttu-id="10ef7-170">ランタイム追跡インフラストラクチャはこれらのイベントの両方に定期受信し、これらのイベントが発生すると、追跡プロファイル キャッシュを適宜、更新します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-170">The runtime tracking infrastructure subscribes to both of these events and updates its tracking profile cache appropriately when they occur.</span></span> <span data-ttu-id="10ef7-171">また、追跡プロファイルが変更された場合に通知を受ける必要があれば、これらのイベントのどちらか一方または両方に定期受信できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-171">You can also subscribe to either or both of these events if you want to be notified of changes to a tracking profile.</span></span> <span data-ttu-id="10ef7-172"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> を設定することにより、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> がこのような変更をテストする頻度を指定できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-172">You can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> to specify the frequency with which the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> should test for such changes.</span></span> <span data-ttu-id="10ef7-173"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> に新しい値を指定すると、タイマー間隔は直ちにその新しい値に設定されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-173">When you specify a new value for <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A>, the timer interval is immediately set to this new value.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ProfileRemoved">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.Workflow.Runtime.Tracking.ProfileRemovedEventArgs&gt; ProfileRemoved;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.Workflow.Runtime.Tracking.ProfileRemovedEventArgs&gt; ProfileRemoved" />
      <MemberSignature Language="DocId" Value="E:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved" />
      <MemberSignature Language="VB.NET" Value="Public Event ProfileRemoved As EventHandler(Of ProfileRemovedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual event EventHandler&lt;System::Workflow::Runtime::Tracking::ProfileRemovedEventArgs ^&gt; ^ ProfileRemoved;" />
      <MemberType>Event</MemberType>
      <Implements>
        <InterfaceMember>E:System.Workflow.Runtime.Tracking.IProfileNotification.ProfileRemoved</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.Workflow.Runtime.Tracking.ProfileRemovedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-174"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> が削除されていることを <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> が検出すると、発生します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-174">Occurs when the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> detects that a <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> has been deleted.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-175"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、そのデータベースを定期的に調べて、追跡プロファイルのうちの 1 つ以上が削除されているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-175">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> periodically examines its database to determine whether one or more of its tracking profiles have been deleted.</span></span> <span data-ttu-id="10ef7-176"><xref:System.Workflow.Runtime.Tracking.TrackingProfile> が削除されていることを検出した場合は、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> イベントを発生させます。このとき、ワークフローの <xref:System.Type> を <xref:System.Workflow.Runtime.Tracking.ProfileRemovedEventArgs> に格納します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-176">If it detects that a <xref:System.Workflow.Runtime.Tracking.TrackingProfile> has been deleted, it raises the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> event and puts the workflow <xref:System.Type> in the <xref:System.Workflow.Runtime.Tracking.ProfileRemovedEventArgs>.</span></span> <span data-ttu-id="10ef7-177">ランタイム追跡インフラストラクチャは、このイベントを使用してプロファイル キャッシュを更新します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-177">The runtime tracking infrastructure uses this event to update its profile cache.</span></span> <span data-ttu-id="10ef7-178"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> を設定して、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> でデータベースを調べる頻度を指定できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-178">You can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> to specify the frequency at which the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> examines its database.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ProfileUpdated">
      <MemberSignature Language="C#" Value="public event EventHandler&lt;System.Workflow.Runtime.Tracking.ProfileUpdatedEventArgs&gt; ProfileUpdated;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.Workflow.Runtime.Tracking.ProfileUpdatedEventArgs&gt; ProfileUpdated" />
      <MemberSignature Language="DocId" Value="E:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated" />
      <MemberSignature Language="VB.NET" Value="Public Event ProfileUpdated As EventHandler(Of ProfileUpdatedEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual event EventHandler&lt;System::Workflow::Runtime::Tracking::ProfileUpdatedEventArgs ^&gt; ^ ProfileUpdated;" />
      <MemberType>Event</MemberType>
      <Implements>
        <InterfaceMember>E:System.Workflow.Runtime.Tracking.IProfileNotification.ProfileUpdated</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.Workflow.Runtime.Tracking.ProfileUpdatedEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-179"><see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> が変更されていることを <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> が検出すると、発生します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-179">Occurs when the <see cref="T:System.Workflow.Runtime.Tracking.SqlTrackingService" /> detects that a <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> has been changed.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-180"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、そのデータベースを定期的に調べて、追跡プロファイルのうちの 1 つ以上が変更されているかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-180">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> periodically examines its database to determine whether one or more of its tracking profiles have been changed.</span></span> <span data-ttu-id="10ef7-181"><xref:System.Workflow.Runtime.Tracking.TrackingProfile> が変更されていることを検出した場合は、その追跡プロファイルを <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> にカプセル化して <xref:System.Workflow.Runtime.Tracking.ProfileUpdatedEventArgs> イベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-181">If it detects such a change in a <xref:System.Workflow.Runtime.Tracking.TrackingProfile>, it raises the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> event with the tracking profile encapsulated in a <xref:System.Workflow.Runtime.Tracking.ProfileUpdatedEventArgs>.</span></span> <span data-ttu-id="10ef7-182">ランタイム追跡インフラストラクチャは、このイベントを使用してプロファイル キャッシュを更新します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-182">The runtime tracking infrastructure uses this event to update its profile cache.</span></span> <span data-ttu-id="10ef7-183"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> を設定して、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> でデータベースを調べる頻度を指定できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-183">You can set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> to specify the frequency at which the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> examines its database.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Start">
      <MemberSignature Language="C#" Value="protected internal override void Start ();" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance void Start() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.Start" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Sub Start ()" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override void Start();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="TryGetProfile">
      <MemberSignature Language="C#" Value="protected internal override bool TryGetProfile (Type workflowType, out System.Workflow.Runtime.Tracking.TrackingProfile profile);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance bool TryGetProfile(class System.Type workflowType, [out] class System.Workflow.Runtime.Tracking.TrackingProfile&amp; profile) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.TryGetProfile(System.Type,System.Workflow.Runtime.Tracking.TrackingProfile@)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function TryGetProfile (workflowType As Type, ByRef profile As TrackingProfile) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override bool TryGetProfile(Type ^ workflowType, [Runtime::InteropServices::Out] System::Workflow::Runtime::Tracking::TrackingProfile ^ % profile);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="workflowType" Type="System.Type" />
        <Parameter Name="profile" Type="System.Workflow.Runtime.Tracking.TrackingProfile&amp;" RefType="out" />
      </Parameters>
      <Docs>
        <param name="workflowType">To be added.</param>
        <param name="profile">To be added.</param>
        <summary>To be added.</summary>
        <returns>To be added.</returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="TryReloadProfile">
      <MemberSignature Language="C#" Value="protected internal override bool TryReloadProfile (Type workflowType, Guid scheduleInstanceId, out System.Workflow.Runtime.Tracking.TrackingProfile profile);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblyhidebysig virtual instance bool TryReloadProfile(class System.Type workflowType, valuetype System.Guid scheduleInstanceId, [out] class System.Workflow.Runtime.Tracking.TrackingProfile&amp; profile) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Workflow.Runtime.Tracking.SqlTrackingService.TryReloadProfile(System.Type,System.Guid,System.Workflow.Runtime.Tracking.TrackingProfile@)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Overrides Function TryReloadProfile (workflowType As Type, scheduleInstanceId As Guid, ByRef profile As TrackingProfile) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; override bool TryReloadProfile(Type ^ workflowType, Guid scheduleInstanceId, [Runtime::InteropServices::Out] System::Workflow::Runtime::Tracking::TrackingProfile ^ % profile);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="workflowType" Type="System.Type" />
        <Parameter Name="scheduleInstanceId" Type="System.Guid" />
        <Parameter Name="profile" Type="System.Workflow.Runtime.Tracking.TrackingProfile&amp;" RefType="out" />
      </Parameters>
      <Docs>
        <param name="workflowType">To be added.</param>
        <param name="scheduleInstanceId">To be added.</param>
        <param name="profile">To be added.</param>
        <summary>To be added.</summary>
        <returns>To be added.</returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="UseDefaultProfile">
      <MemberSignature Language="C#" Value="public bool UseDefaultProfile { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool UseDefaultProfile" />
      <MemberSignature Language="DocId" Value="P:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile" />
      <MemberSignature Language="VB.NET" Value="Public Property UseDefaultProfile As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool UseDefaultProfile { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Workflow.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="10ef7-184">追跡プロファイルを持たないワークフロー型に既定の <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> を使用するかどうかを指定する値を取得または設定します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-184">Gets or sets a value specifying whether a default <see cref="T:System.Workflow.Runtime.Tracking.TrackingProfile" /> should be used for workflow types that do not have a tracking profile.</span></span></summary>
        <value>
          <span data-ttu-id="10ef7-185">既定の追跡プロファイルが使用される場合は <see langword="true" />。それ以外の場合は <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="10ef7-185"><see langword="true" /> if a default tracking profile should be used; otherwise, <see langword="false" />.</span></span> <span data-ttu-id="10ef7-186">既定値は、<see langword="true" /> です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-186">The default is <see langword="true" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="10ef7-187"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> が `true` の場合、ワークフロー ランタイム エンジンがワークフロー <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> の追跡プロファイルを取得しようとしたときに、そのワークフロー型に関連付けられた <xref:System.Workflow.Runtime.Tracking.TrackingProfile> が追跡サービスになければ、<xref:System.Type> は既定の <xref:System.Workflow.Runtime.Tracking.TrackingProfile> を返します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-187">If <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> is `true`, the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> will return a default <xref:System.Workflow.Runtime.Tracking.TrackingProfile> whenever the workflow runtime engine tries to get a tracking profile for a workflow <xref:System.Type> for which the tracking service has no associated <xref:System.Workflow.Runtime.Tracking.TrackingProfile>.</span></span>  
  
 <span data-ttu-id="10ef7-188">そのまますぐに使用できる既定の追跡プロファイルは、ワークフロー インスタンスによって出されるすべてのアクティビティ イベント、ユーザー イベント、およびワークフロー イベントに適合します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-188">The out-of-box default tracking profile matches all activity events, user events, and workflow events emitted by a workflow instance.</span></span> <span data-ttu-id="10ef7-189">`UpdateDefaultProfile` ストアド プロシージャを使用することにより、既定の追跡プロファイルを変更できます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-189">You can change the default tracking profile by using the `UpdateDefaultProfile` stored procedure.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10ef7-190">`UpdateDefaultProfile` ストアド プロシージャは、既定の追跡プロファイルを変更します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-190">The `UpdateDefaultProfile` stored procedure will change the default tracking profile.</span></span> <span data-ttu-id="10ef7-191">あるワークフロー型のプロファイルをワークフロー ランタイム エンジンが要求したときに、そのワークフロー型に関連付けられた追跡プロファイルが追跡サービスになければ、この新しい既定プロファイルが返されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-191">This new default profile will be returned when the workflow runtime engine requests a profile for a workflow type for which the tracking service has no associated tracking profile.</span></span> <span data-ttu-id="10ef7-192">従来の既定のプロファイルに既に関連付けられているワークフロー型は、`UpdateDefaultProfile` が呼び出された後もそのプロファイルに関連付けられています。これらのワークフロー型のうち、新しい既定のプロファイルに関連付けるものに対して、明示的に `UpdateTrackingProfile` ストアド プロシージャを呼び出す必要があります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-192">Workflow types that were previously associated with the old default profile will still be associated with that profile even after `UpdateDefaultProfile` is called; you must explicitly call the `UpdateTrackingProfile` stored procedure on any of these workflow types that you want to associate with the new default profile.</span></span>  
  
 <span data-ttu-id="10ef7-193"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> が true の場合、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、そのデータベースで追跡プロファイルが関連付けられていないワークフロー型については、既定の追跡プロファイルをワークフロー ランタイム エンジンに返します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-193">While <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> is true, the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> will return the default tracking profile to the workflow runtime engine for any workflow type for which it doesn't have a tracking profile associated in its database.</span></span> <span data-ttu-id="10ef7-194">後で <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> を false に設定しても、データベースではこれらのワークフロー型に既定のプロファイルが関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="10ef7-194">If you later set <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.UseDefaultProfile%2A> to false, the default profile will still be associated with these workflow types in the database.</span></span> <span data-ttu-id="10ef7-195">追跡プロファイルとワークフロー型の関連付けを解除するには、そのワークフロー型に対する `DeleteTrackingProfile` ストアド プロシージャを呼び出します。ワークフロー型に関連付けられた追跡プロファイルを変更するには、そのワークフロー型に対する `UpdateTrackingProfile` ストアド プロシージャを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="10ef7-195">You can call the `DeleteTrackingProfile` stored procedure on a workflow type to no longer associate a tracking profile with that type, or you can call the `UpdateTrackingProfile` stored procedure on a workflow type to change the tracking profile associated with that type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10ef7-196">ワークフロー ランタイム エンジンは、追跡プロファイルをキャッシュします。</span><span class="sxs-lookup"><span data-stu-id="10ef7-196">The workflow runtime engine caches its tracking profiles.</span></span> <span data-ttu-id="10ef7-197">したがってワークフロー ランタイム エンジンは、追跡プロファイルが既にキャッシュで関連付けられているワークフロー型に関して <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> イベントを受け取る必要があります。このイベントを受け取ると、そのワークフロー型の新しいインスタンスに対して、キャッシュされたプロファイルが使用されなくなります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-197">Therefore, it must receive a <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileRemoved> event for any workflow type for which it already has a tracking profile associated in its cache before it will stop using its cached profile for new instances of that workflow type.</span></span> <span data-ttu-id="10ef7-198">さらに、このようなワークフロー型に関して、ワークフロー ランタイム エンジンは <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> イベントも受け取る必要があります。このイベントを受け取ると、新しい追跡プロファイルをキャッシュに読み込んで、そのワークフロー型の新しいインスタンスに関連付けます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-198">Likewise, the workflow runtime engine must receive a <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileUpdated> event for such workflow types before it will load a new tracking profile into its cache to associate with new instances of the workflow type.</span></span> <span data-ttu-id="10ef7-199"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> は、データベース内の追跡プロファイルの変更を調べて、該当するワークフロー型に関して適切なイベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-199">The <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> raises the appropriate events for applicable workflow types when it examines the database for changes to its tracking profiles.</span></span> <span data-ttu-id="10ef7-200"><xref:System.Workflow.Runtime.Tracking.SqlTrackingService> がこの操作を実行する頻度は、<xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> によって設定されます。</span><span class="sxs-lookup"><span data-stu-id="10ef7-200">The frequency at which the <xref:System.Workflow.Runtime.Tracking.SqlTrackingService> performs this operation is set by <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A>.</span></span>  <span data-ttu-id="10ef7-201">したがって、`UpdateTrackingProfile` または `DeleteTrackingProfile` ストアド プロシージャを呼び出したとき、ワークフロー ランタイム エンジンが変更をプロファイル キャッシュに反映するまでに、最大で <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> で指定した時間だけ遅れる場合があります。</span><span class="sxs-lookup"><span data-stu-id="10ef7-201">Therefore, whenever you call the `UpdateTrackingProfile` or `DeleteTrackingProfile` stored procedures there may be a delay of up to the period specified by <xref:System.Workflow.Runtime.Tracking.SqlTrackingService.ProfileChangeCheckInterval%2A> before the workflow runtime engine will reflect your changes in its profile cache.</span></span>  
>   
>  <span data-ttu-id="10ef7-202">追跡プロファイルの詳細については、次を参照してください。[を使用して追跡プロファイルの作成と](http://msdn.microsoft.com/library/f018ad09-d20f-4626-9792-31d9f278d0b0)です。</span><span class="sxs-lookup"><span data-stu-id="10ef7-202">For more information about tracking profiles, see [Creating and Using Tracking Profiles](http://msdn.microsoft.com/library/f018ad09-d20f-4626-9792-31d9f278d0b0).</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>